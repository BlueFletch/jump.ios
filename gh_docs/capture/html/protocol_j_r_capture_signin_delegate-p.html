
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>JRCapture: &lt;JRCaptureSigninDelegate&gt; Protocol Reference</title>

<link href="https://ajax.googleapis.com/ajax/libs/yui/2.6.0/build/reset-fonts-grids/reset-fonts-grids.css" media="screen" rel="Stylesheet" type="text/css" />
<link href="https://docj27ko03fnu.cloudfront.net/rel/css/2bb009d73339d0d58d219aa0fe64c58b.css" media="screen" rel="stylesheet" type="text/css" />
<link href="https://docj27ko03fnu.cloudfront.net/rel/css/2fb2163c00ef7507299cf906f80417c0.css" media="screen" rel="stylesheet" type="text/css" />
<link href="https://docj27ko03fnu.cloudfront.net/rel/css/ec43df1fad7e73acc5c5812bced3f800.css" media="screen" rel="stylesheet" type="text/css" />
<link href="https://docj27ko03fnu.cloudfront.net/rel/css/0a917b9580f8d894fd652b4c856e5e61.css" media="print" rel="stylesheet" type="text/css" />

<link href="https://docj27ko03fnu.cloudfront.net/rel/css/548bc7f308cd5a02c000502fd91cedf1.css" media="screen" rel="stylesheet" type="text/css" />

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>


<script type="text/javascript">
  function changeRP(elem) {
      window.location = '/relying_parties/' + elem.value;
  }
</script>
  
</head>

<body>
  <div class="page">
    <div class="wrapper">
      <!-- header -->
      <ul id="top_nav">
        <li class="selected"><a href="#">Engage</a></li>
        <li><a href="http://janraincapture.com">Capture</a></li>
        <li><a href="http://developers.janrain.com">Developers</a></li>
      </ul>
      <ul id="account_nav">
        <li><a class="rpxnow" href="https://login.janrain.com/openid/v2/signin?token_url=https%3A%2F%2Frpxnow.com%2Ffinish">Sign In</a></li>
      </ul>

      <div id="nav_bar"></div>      
      <div id="doc" class="yui-t2">
        <h1 id="doc-page-title">Janrain: User management platform for the social web</h1>
      
        <!-- body -->
        <div id="bd">
          <div style="padding: 2.5em 0em;">
          
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>&lt;JRCaptureSigninDelegate&gt; Protocol Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="JRCaptureSigninDelegate-p" -->
<p>Protocol adopted by an object that wishes to receive notifications when and information about a user that authenticates with your application.  
<a href="#_details">More...</a></p>

<p><code>#import &lt;<a class="el" href="_j_r_capture_8h_source.html">JRCapture.h</a>&gt;</code></p>

<p><a href="protocol_j_r_capture_signin_delegate-p-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Configuration</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp254f642527b45bc260048e30704edb39"></a> Messages sent by <a class="el" href="interface_j_r_capture.html" title="Main API for interacting with the Janrain Capture for iOS library.">JRCapture</a> during dialog launch/configuration of the Engage for iOS portion of the library </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_j_r_capture_signin_delegate-p.html#a9592a3db70b6b5a16004652bac244c38">engageSigninDialogDidFailToShowWithError:</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">Authentication</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpc75f7811d70d17dbcd88e9d03752cbed"></a> Messages sent by <a class="el" href="interface_j_r_capture.html" title="Main API for interacting with the Janrain Capture for iOS library.">JRCapture</a> during authentication </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_j_r_capture_signin_delegate-p.html#a4c9e898bc4f4cf7e47df3237ef1a9eec">engageSigninDidNotComplete</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_j_r_capture_signin_delegate-p.html#a39eb082986c4a029cbc8545cc8029c18">engageSigninDidSucceedForUser:forProvider:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_j_r_capture_signin_delegate-p.html#aa5dc2ae621394b1a97b55eb3fca6b2ef">captureAuthenticationDidSucceedForUser:status:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_j_r_capture_signin_delegate-p.html#a9233596d1dc8295c6307e8c1b17a6b24">engageAuthenticationDidFailWithError:forProvider:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_j_r_capture_signin_delegate-p.html#aa29daa14bfc08d921a0cd614f8418679">captureAuthenticationDidFailWithError:</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Protocol adopted by an object that wishes to receive notifications when and information about a user that authenticates with your application. </p>
<p>This protocol will notify the delegate when authentications succeed or fail; it will provide the delegate with the authenticated user's profile data as returned from the Engage and Capture servers. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9592a3db70b6b5a16004652bac244c38"></a><!-- doxytag: member="JRCaptureSigninDelegate&#45;p::engageSigninDialogDidFailToShowWithError:" ref="a9592a3db70b6b5a16004652bac244c38" args="(NSError *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) engageSigninDialogDidFailToShowWithError: </td>
          <td></td>
          <td class="paramtype">(NSError *)&nbsp;</td>
          <td class="paramname"> <em>error</em></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sent if the application tries to show the Engage for iOS dialog and the dialog failed to show. May occur if the <code>JREngage</code> library failed to configure, or if the dialog is already being displayed, etc.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>The error that occurred during configuration. Please see the list of <a class="el" href="group__capture_errors.html">Capture Errors</a> for more information // TODO: Update to link to the page of Engage errors as well</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This message is only sent if your application tries to show a Engage for iOS dialog, and not necessarily when an error occurs, if, say, the error occurred during the library's configuration. The raison d'etre is based on the possibility that your application may preemptively configure Capture and Engage, but never actually use it. If that is the case, then you won't get any error. </dd></dl>

</div>
</div>
<a class="anchor" id="a4c9e898bc4f4cf7e47df3237ef1a9eec"></a><!-- doxytag: member="JRCaptureSigninDelegate&#45;p::engageSigninDidNotComplete" ref="a4c9e898bc4f4cf7e47df3237ef1a9eec" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) engageSigninDidNotComplete </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sent if the authentication was canceled for any reason other than an error. For example, the user hits the "Cancel" button, any class calls the cancelAuthentication message, or if configuration of the library is taking more than about 16 seconds (rare) to download. </p>

</div>
</div>
<a class="anchor" id="a39eb082986c4a029cbc8545cc8029c18"></a><!-- doxytag: member="JRCaptureSigninDelegate&#45;p::engageSigninDidSucceedForUser:forProvider:" ref="a39eb082986c4a029cbc8545cc8029c18" args="(NSDictionary *engageAuthInfo,[forProvider] NSString *provider)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) engageSigninDidSucceedForUser: </td>
          <td></td>
          <td class="paramtype">(NSDictionary *)&nbsp;</td>
          <td class="paramname"> <em>engageAuthInfo</em></td>
        </tr>
        <tr>
          <td class="paramkey">forProvider:</td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>provider</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The first message you will receive when Engage authentication has completed with the given provider. At this point, the library will close the dialog and then complete authentication headlessly on Capture. This notification will contain limited data which you can use to update the UI while you wait for Capture to complete authentication.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>engageAuthInfo</em>&nbsp;</td><td>An <em>NSDictionary</em> of fields containing all the information returned to Janrain Engage from the provider. Includes the field <code>"profile"</code> which contains the user's profile information. This information will be added to the Capture record once authentication reaches the Capture server.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>provider</em>&nbsp;</td><td>The name of the provider on which the user authenticated. For a list of possible strings, please see the <a class="el" href="_providers.html#basicProviders">List of Providers</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Example:</b></dt><dd>The structure of the auth_info dictionary (represented here in json) should look something like the following: <div class="fragment"><pre class="fragment"> <span class="stringliteral">&quot;auth_info&quot;</span>:
 {
   <span class="stringliteral">&quot;profile&quot;</span>:
   {
     <span class="stringliteral">&quot;displayName&quot;</span>: <span class="stringliteral">&quot;brian&quot;</span>,
     <span class="stringliteral">&quot;preferredUsername&quot;</span>: <span class="stringliteral">&quot;brian&quot;</span>,
     <span class="stringliteral">&quot;url&quot;</span>: <span class="stringliteral">&quot;http://brian.myopenid.com/&quot;</span>,
     <span class="stringliteral">&quot;providerName&quot;</span>: <span class="stringliteral">&quot;Other&quot;</span>,
     <span class="stringliteral">&quot;identifier&quot;</span>: <span class="stringliteral">&quot;http://brian.myopenid.com/&quot;</span>
   }
 }
</pre></div></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>For a full description of the dictionary and its fields, please see the <a href="http://developers.janrain.com/documentation/api/auth_info/">auth_info response</a> section of the Janrain Engage API documentation.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The information in the engageAuthInfo dictionary will be added to the Capture record once authentication reaches the Capture server. It is returned at this step for your information only. You do not need to do anything with this data accept perhaps update the UI while your user is waiting for authentication to complete.</dd>
<dd>
If your user signs in to your server directly (conventional signin), this message is not sent to your delegate. </dd></dl>

</div>
</div>
<a class="anchor" id="aa5dc2ae621394b1a97b55eb3fca6b2ef"></a><!-- doxytag: member="JRCaptureSigninDelegate&#45;p::captureAuthenticationDidSucceedForUser:status:" ref="aa5dc2ae621394b1a97b55eb3fca6b2ef" args="(JRCaptureUser *captureUser,[status] JRCaptureRecordStatus captureRecordStatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) captureAuthenticationDidSucceedForUser: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_j_r_capture_user.html">JRCaptureUser</a> *)&nbsp;</td>
          <td class="paramname"> <em>captureUser</em></td>
        </tr>
        <tr>
          <td class="paramkey">status:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_j_r_capture_8h.html#a3de9970dfc3458baae757eb39c61da6e">JRCaptureRecordStatus</a>)&nbsp;</td>
          <td class="paramname"> <em>captureRecordStatus</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sent after authentication has successfully reached the Capture server. Capture will attempt to sign the user in, using the rich data available from the provider, and send back a Capture user record and JRCaptureRecordStatus indicating the result. One of three results will occur:</p>
<ul>
<li>Returning User — The user’s record already exists on the Capture server. The record is retrieved from the Capture server and passed back to your application.</li>
<li>New User, Record Created — The user’s record does not already exist on the Capture server, but it is automatically created and passed back to your application. Your application may wish to collect additional information about the user and push that information back to the Capture server.</li>
<li>New User, Record Not Created* — The user’s record was not automatically created because required information that was not available in the data returned by the social identity provider. (For example, your Capture instance may require an email address, but Twitter does not provide an email address, so the record cannot be automatically created on Capture when the user signs in with Twitter.) An incomplete user record is passed back to your application, where it is your application’s responsibility to collect the missing required data and invoke the user record creation on Capture.<ul>
<li>Your application should present UI to collect the missing information and any additional information you wish to collect</li>
<li>Your application should store this information in the user record object returned by Capture</li>
<li>Once the information is collected, your application needs to invoke record creation on Capture</li>
</ul>
</li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>captureUser</em>&nbsp;</td><td>An object representing the Capture user, containing the data that was retrieved from this user's record on the Capture server and including the rich data returned from the social provider.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>captureRecordStatus</em>&nbsp;</td><td>A JRCaptureRecordStatus indicating the status of the captureUser record.</td></tr>
  </table>
  </dd>
</dl>
<p>* If your Capture instance does not require information such as an email address, this scenario should not occur. </p>

</div>
</div>
<a class="anchor" id="a9233596d1dc8295c6307e8c1b17a6b24"></a><!-- doxytag: member="JRCaptureSigninDelegate&#45;p::engageAuthenticationDidFailWithError:forProvider:" ref="a9233596d1dc8295c6307e8c1b17a6b24" args="(NSError *error,[forProvider] NSString *provider)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) engageAuthenticationDidFailWithError: </td>
          <td></td>
          <td class="paramtype">(NSError *)&nbsp;</td>
          <td class="paramname"> <em>error</em></td>
        </tr>
        <tr>
          <td class="paramkey">forProvider:</td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>provider</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sent when authentication failed and could not be recovered by the library.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>The error that occurred during authentication. Please see the list of <a class="el" href="group__capture_errors.html">Capture Errors</a> for more information // TODO: Update to link for Engage errors</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>provider</em>&nbsp;</td><td>The name of the provider on which the user tried to authenticate. For a list of possible strings, please see the <a class="el" href="_providers.html#basicProviders">List of Providers</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This message is not sent if authentication was canceled. To be notified of a canceled authentication, see <a class="el" href="protocol_j_r_capture_signin_delegate-p.html#a4c9e898bc4f4cf7e47df3237ef1a9eec">engageSigninDidNotComplete</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="aa29daa14bfc08d921a0cd614f8418679"></a><!-- doxytag: member="JRCaptureSigninDelegate&#45;p::captureAuthenticationDidFailWithError:" ref="aa29daa14bfc08d921a0cd614f8418679" args="(NSError *error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) captureAuthenticationDidFailWithError: </td>
          <td></td>
          <td class="paramtype">(NSError *)&nbsp;</td>
          <td class="paramname"> <em>error</em></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sent when the call to the Capture server has failed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>The error that occurred during Capture authentication. Please see the list of <a class="el" href="group__capture_errors.html">Capture Errors</a> for more information </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this protocol was generated from the following file:<ul>
<li>/Users/lillialexis/Capture/jump.ios/Janrain/JRCapture/Classes/<a class="el" href="_j_r_capture_8h_source.html">JRCapture.h</a></li>
</ul>
</div>
            </div>
           <!-- end -->
          </div>
  	    
        </div>
      </div>
    </div>
    <!-- footer -->
    <div id="ft">
  <div class="padder">
    <span id="copyright">Copyright &copy; 2012 Janrain, Inc.</span>
    <ul>
      <li><a href="http://janrain.com/company">About Janrain</a></li>
      <li><a href="http://janrain.com/contact">Contact Us</a></li>
      <li><a href="http://support.janrain.com/">Support</a></li>
      <li><a href="/privacy">Privacy Policy</a></li>
      <li><a href="http://documentation.janrain.com/" target="_blank">Docs</a></li>
    </ul>
    <div style="clear: both;"></div>
  </div>
</div>


    <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
if (window._gat) {
    var pageTracker = _gat._getTracker("UA-3697105-7");
    pageTracker._trackPageview();
}
</script>
<script type="text/javascript"
        src="https://lct.salesforce.com/sfga.js"></script>
<script type="text/javascript">__sfga();</script>
<script src="https://docj27ko03fnu.cloudfront.net/rel/js/c47ce7bdeade55e6fcbe4e7c60530223.js" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
var _tag=new WebTrends();
_tag.dcsGetId();
//]]>
</script>
<script type="text/javascript">
//<![CDATA[
_tag.dcsCollect();
//]]>
</script>


</body>
</html>
